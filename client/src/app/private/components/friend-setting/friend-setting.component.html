<app-navbar></app-navbar>

<div *ngIf="(user | async) as user" class="container">
	<!-- <div class="container">
		<mat-form-field>
			<input matInput placeholder="Search by username" [matAutocomplete]="auto" [formControl]="searchUsername">
			<mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn"
				(optionSelected)="setSelectedUser($event.option.value)">
				<ng-container>
					<mat-option *ngFor="let user of filteredUsers" [value]="user">
						<span>{{ user.username }}</span>
					</mat-option>
				</ng-container>
			</mat-autocomplete>
		</mat-form-field>
	</div> -->

	<mat-card>
		<h3>Pending Requests</h3>
		<div *ngIf="(requests$ | async)?.length > 0; else no_requests">
			<mat-selection-list [multiple]="false" (selectionChange)="onSelectRequest($event)">
				<mat-list-option *ngFor="let requests of (requests$ | async)" [value]="requests">
					{{ requests.creator.username }}
					<mat-divider></mat-divider>
				</mat-list-option>
			</mat-selection-list>
		</div>
		<ng-template #no_requests>
			<h3>0 request</h3>
		</ng-template>
	</mat-card>

	<mat-card>
		<h3>Friends List</h3>
		<div *ngIf="(friends$ | async)?.length > 0; else no_friends">
			<mat-selection-list [multiple]="false" (selectionChange)="onSelectFriend($event)">
				<mat-list-option *ngFor="let friends of friendsList" [value]="friends">
					{{ friends.username }} is {{ friends.status }}
					<mat-divider></mat-divider>
				</mat-list-option>
			</mat-selection-list>
		</div>
		<ng-template #no_friends>
			<h3>0 friends</h3>
		</ng-template>
	</mat-card>
</div>
